---
import projects from "../content/projects.json";
//        ↑ ↑ ↑ ↑ 
// src/pages/projects/[slug].astro -> src/configs/projects.json
// ディレクトリを2階層上に戻る必要がある
// pages/ -> src/ -> configs/

export async function getStaticPaths() {
  return projects.map((project) => {
    return {
      params: { slug: project.slug },
      props: { project }
    };
  });
}

export async function get({ props }) {
  return {
    props: {
      project: props.project
    }
  };
}

const { project } = Astro.props;
---

<html>
  <head>
    <title>{project.title}</title>
  </head>
  <body>
    <h1>{project.title}</h1>
    <p>{project.description}</p>
    <img src={project.image} alt={project.title} />
  </body>
</html>
